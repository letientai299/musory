"use strict";(self.webpackChunkmusory=self.webpackChunkmusory||[]).push([[977],{2977:function(n,t,e){e.r(t);var r,i=e(9439),s=e(3144),c=e(5671),u=e(2791),o=e(3183),l=e(3628),a=e(8014),d=e(8627),f=e(184),h=(0,s.Z)((function n(t){(0,c.Z)(this,n),this.str=void 0,this.beats=void 0,this.note=void 0,this.str=t;var e=t.split("/");if(2!=e.length)return this.beats=0,void(this.note=0);this.beats=Number.parseInt(e[0]),this.note=Number.parseInt(e[1])})),x=["2/2","2/4","3/4","4/4"].map((function(n){return new h(n)})),b=function(n){var t="flex border m-2 p-2 flex-col items-center text-center text-xl font-bold border-2 hover:border-cyan-500";return n.active&&(t+=" border-cyan-700"),(0,f.jsxs)("button",{className:t,onClick:function(){return n.onClick(n.sign.str)},children:[(0,f.jsx)("p",{children:n.sign.beats}),(0,f.jsx)("p",{children:n.sign.note})]})},p=function(n,t){return Number.isNaN(t)?n:t<10?10:t>400?400:t};function j(n,t,e){if(r&&r.stop(0),n){var i=new h(e),s=(new d.WV).toDestination(),c=0;r=new d.rN((function(n){""!=e&&c%i.beats==0?s.triggerAttackRelease("B2",.01,n):s.triggerAttackRelease("G2",.01,n),c++})).start(0),d.J7.bpm.rampTo(t),d.J7.start()}}t.default=function(){var n=(0,u.useState)(100),t=(0,i.Z)(n,2),e=t[0],r=t[1],s=(0,u.useState)(!1),c=(0,i.Z)(s,2),h=c[0],m=c[1],k=(0,u.useState)(""),g=(0,i.Z)(k,2),v=g[0],y=g[1];return(0,o.y1)("up",(function(){return r((function(n){return p(n,n+1)}))})),(0,o.y1)("k",(function(){return r((function(n){return p(n,n+1)}))})),(0,o.y1)("down",(function(){return r((function(n){return p(n,n-1)}))})),(0,o.y1)("j",(function(){return r((function(n){return p(n,n-1)}))})),(0,o.y1)("Enter",(function(){(0,d.BL)().then((function(){return m((function(n){return!n}))}))})),(0,o.y1)("Space",(function(){(0,d.BL)().then((function(){return m((function(n){return!n}))}))})),(0,u.useEffect)((function(){return j(h,e,v),function(){return j(!1,e,v)}})),(0,f.jsxs)("div",{className:"m-auto flex flex-col center items-center",children:[(0,f.jsx)(l.DebounceInput,{type:"number",pattern:"\\d*",debounceTimeout:200,value:e,onChange:function(n){return r((function(t){return p(t,Number.parseInt(n.target.value))}))},className:"text-6xl m-auto w-1/2 text-center outline-none appearance-none"}),(0,f.jsx)("p",{className:"text-sl",children:"BMP"}),(0,f.jsx)("button",{autoFocus:!0,id:"btn-play",className:"text-6xl cursor-pointer",onClick:function(n){n.clientX&&n.clientY&&(0,d.BL)().then((function(){return m(!h)}))},children:h?(0,f.jsx)(a.TLz,{}):(0,f.jsx)(a.yNr,{})}),(0,f.jsx)("div",{className:"flex flex-row",children:x.map((function(n){var t=""!=v&&v==n.str;return(0,f.jsx)(b,{active:t,sign:n,onClick:y},n.str)}))}),(0,f.jsx)("article",{className:"prose",children:(0,f.jsxs)("ul",{children:[(0,f.jsx)("li",{children:"Click the BPM number to edit it directly"}),(0,f.jsxs)("li",{children:[(0,f.jsx)("kbd",{children:"Up"})," or ",(0,f.jsx)("kbd",{children:"j"})," to increase the BMP."]}),(0,f.jsxs)("li",{children:[(0,f.jsx)("kbd",{children:"Down"})," or ",(0,f.jsx)("kbd",{children:"k"})," to increase the BMP."]}),(0,f.jsxs)("li",{children:[(0,f.jsx)("kbd",{children:"Enter"})," or ",(0,f.jsx)("kbd",{children:"Space"})," to toggle playing."]}),(0,f.jsxs)("li",{children:["Hit ",(0,f.jsx)("kbd",{children:"Tab"})," or click outside of BMP input if can't toggle playing using shortcuts"]})]})})]})}}}]);
//# sourceMappingURL=977.8291e874.chunk.js.map