import Notes from './notes'

describe('Notes', () => {
  // test case taken from https://pages.mtu.edu/~suits/notefreqs.html
  // using standard A4=440
  const cases: { fq: number; want: string }[] = [
    { fq: 440, want: 'A4' },
    { fq: 220, want: 'A3' },
    { fq: 880, want: 'A5' },
    { fq: 1760, want: 'A6' },

    { want: 'C0', fq: 16.35 },
    { want: 'C#0', fq: 17.32 },
    { want: 'D0', fq: 18.35 },
    { want: 'D#0', fq: 19.45 },
    { want: 'E0', fq: 20.6 },
    { want: 'F0', fq: 21.83 },
    { want: 'F#0', fq: 23.12 },
    { want: 'G0', fq: 24.5 },
    { want: 'G#0', fq: 25.96 },
    { want: 'A0', fq: 27.5 },
    { want: 'A#0', fq: 29.14 },
    { want: 'B0', fq: 30.86771 },
    { want: 'C1', fq: 32.7 },
    { want: 'C#1', fq: 34.65 },
    { want: 'D1', fq: 36.71 },
    { want: 'D#1', fq: 38.89 },
    { want: 'E1', fq: 41.2 },
    { want: 'F1', fq: 43.65 },
    { want: 'F#1', fq: 46.25 },
    { want: 'G1', fq: 49.0 },
    { want: 'G#1', fq: 51.91 },
    { want: 'A1', fq: 55.0 },
    { want: 'A#1', fq: 58.27 },
    { want: 'B1', fq: 61.74 },
    { want: 'C2', fq: 65.41 },
    { want: 'C#2', fq: 69.3 },
    { want: 'D2', fq: 73.42 },
    { want: 'D#2', fq: 77.78 },
    { want: 'E2', fq: 82.41 },
    { want: 'F2', fq: 87.31 },
    { want: 'F#2', fq: 92.5 },
    { want: 'G2', fq: 98.0 },
    { want: 'G#2', fq: 103.83 },
    { want: 'A2', fq: 110.0 },
    { want: 'A#2', fq: 116.54 },
    { want: 'B2', fq: 123.47 },
    { want: 'C3', fq: 130.81 },
    { want: 'C#3', fq: 138.59 },
    { want: 'D3', fq: 146.83 },
    { want: 'D#3', fq: 155.56 },
    { want: 'E3', fq: 164.81 },
    { want: 'F3', fq: 174.61 },
    { want: 'F#3', fq: 185.0 },
    { want: 'G3', fq: 196.0 },
    { want: 'G#3', fq: 207.65 },
    { want: 'A3', fq: 220.0 },
    { want: 'A#3', fq: 233.08 },
    { want: 'B3', fq: 246.94 },
    { want: 'C4', fq: 261.63 },
    { want: 'C#4', fq: 277.18 },
    { want: 'D4', fq: 293.66 },
    { want: 'D#4', fq: 311.13 },
    { want: 'E4', fq: 329.63 },
    { want: 'F4', fq: 349.23 },
    { want: 'F#4', fq: 369.99 },
    { want: 'G4', fq: 392.0 },
    { want: 'G#4', fq: 415.3 },
    { want: 'A4', fq: 440.0 },
    { want: 'A#4', fq: 466.16 },
    { want: 'B4', fq: 493.88 },
    { want: 'C5', fq: 523.25 },
    { want: 'C#5', fq: 554.37 },
    { want: 'D5', fq: 587.33 },
    { want: 'D#5', fq: 622.25 },
    { want: 'E5', fq: 659.25 },
    { want: 'F5', fq: 698.46 },
    { want: 'F#5', fq: 739.99 },
    { want: 'G5', fq: 783.99 },
    { want: 'G#5', fq: 830.61 },
    { want: 'A5', fq: 880.0 },
    { want: 'A#5', fq: 932.33 },
    { want: 'B5', fq: 987.77 },
    { want: 'C6', fq: 1046.5 },
    { want: 'C#6', fq: 1108.73 },
    { want: 'D6', fq: 1174.66 },
    { want: 'D#6', fq: 1244.51 },
    { want: 'E6', fq: 1318.51 },
    { want: 'F6', fq: 1396.91 },
    { want: 'F#6', fq: 1479.98 },
    { want: 'G6', fq: 1567.98 },
    { want: 'G#6', fq: 1661.22 },
    { want: 'A6', fq: 1760.0 },
    { want: 'A#6', fq: 1864.66 },
    { want: 'B6', fq: 1975.53 },
    { want: 'C7', fq: 2093.0 },
    { want: 'C#7', fq: 2217.46 },
    { want: 'D7', fq: 2349.32 },
    { want: 'D#7', fq: 2489.02 },
    { want: 'E7', fq: 2637.02 },
    { want: 'F7', fq: 2793.83 },
    { want: 'F#7', fq: 2959.96 },
    { want: 'G7', fq: 3135.96 },
    { want: 'G#7', fq: 3322.44 },
    { want: 'A7', fq: 3520.0 },
    { want: 'A#7', fq: 3729.31 },
    { want: 'B7', fq: 3951.07 },
    { want: 'C8', fq: 4186.01 },
    { want: 'C#8', fq: 4434.92 },
    { want: 'D8', fq: 4698.63 },
    { want: 'D#8', fq: 4978.03 },
    { want: 'E8', fq: 5274.04 },
    { want: 'F8', fq: 5587.65 },
    { want: 'F#8', fq: 5919.91 },
    { want: 'G8', fq: 6271.93 },
    { want: 'G#8', fq: 6644.88 },
    { want: 'A8', fq: 7040.0 },
    { want: 'A#8', fq: 7458.62 },
    { want: 'B8', fq: 7902.13 },
  ]
  test.each(cases)('fromFrequency: %s', (tc) => {
    expect(Notes.fromFrequency(tc.fq)).toEqual(tc.want)
  })
})
